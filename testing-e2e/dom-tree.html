<!DOCTYPE html>
<html class="h-full">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>dom-tree - Zea Engine</title>

    <link href="data/zea-logo.png" rel="shortcut icon" />

    <link rel="stylesheet" href="styles/tailwind.min.css" />

    <script src="../node_modules/@zeainc/zea-engine/dist/index.umd.js"></script>
    <script src="../dist/index.umd.js"></script>

    <script type="module">
      const {
        GLRenderer,
        Scene,
        Vec3,
        Xfo,
        EulerAngles,
        Color,
        Cuboid,
        Material,
        GeomItem,
        ObjAsset,
      } = window.zeaEngine
      const {
        SelectionManager,
        UndoRedoManager,
        ToolManager,
        SelectionTool,
        VRHoldObjectsTool,
        CreateFreehandLineTool,
        CreateSphereTool,
        CreateCuboidTool,
        CreateConeTool,
        DomTree,
      } = window.zeaUx

      const canvas = document.querySelector('#renderer')

      const scene = new Scene()
      const renderer = new GLRenderer(canvas)
      renderer.getViewport().getCamera().setPositionAndTarget(new Vec3(3, 3, 2), new Vec3(0, 0, 0.75))
      // renderer.getViewport().debugGeomShader = true
      renderer.setScene(scene)
      scene.setupGrid(10.0, 10)

      const appData = {
        renderer,
        scene,
      }

      import './dom-ui.js'
      const domUI = document.createElement('dom-ui')
      document.body.appendChild(domUI)

      const tomTree = new DomTree('DomTree', domUI.contentDiv)

      const localXfo = new Xfo()
      // localXfo.ori.setFromAxisAndAngle(new Vec3(1, 0, 0), Math.PI * 0.5)
      localXfo.ori.setFromAxisAndAngle(new Vec3(1, 0, 0), Math.PI * -0.5)
      tomTree.getParameter('LocalXfo').setValue(localXfo)
      tomTree.getParameter('PixelsPerMeter').setValue(400)
      scene.getRoot().addChild(tomTree)
    </script>
  </head>
  <body class="bg-blue-100 h-full">
    <div class="h-full" id="canvasHolder">
      <canvas class="absolute" id="renderer"></canvas>
      <div class="label" id="buttonHolder"></div>
      <div class="button" id="button">XR Device Not Detected</div>
    </div>
  </body>
</html>
